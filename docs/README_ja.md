<p align="center">
  <img src="../assets/logo/cool_logo_dark.PNG" width="260" alt="COOL Logo">
</p>

# COOL — Character Optimization Option Layer

COOL（Character Optimization Option Layer）は、  
LLM ベースのエージェントのための  
**外付けキャラクターレイヤー**です。

このリポジトリでは、COOL は必ず専用のメモリーレイヤーとペアで扱われます：

- **COOL** = LLM のための **外付けキャラクター / パーソナリティレイヤー**  
- **MOOL（Memory Optimization Option Layer）** =  
  **キュー（手がかり）ベースの記憶と「夢のような」オフライン統合レイヤー**

この 2 つを組み合わせることで、  
LLM のまわりに巻き付く **Digital Hippocampus（デジタル海馬）**  
のような構造をつくります。

これにより、生成モデルに：

- **安定したパーソナリティ** と  
- **時間をまたいだ一貫したふるまい**

を与えることを目指します。  
しかも、ベースモデルそのものを書き換える必要はありません。

COOL はモデルの *外側* に存在し、次の要素を提供します：

- 長期的な **コアパーソナリティ（Core）**  
- 文脈に応じた **状況モード（Frames）**  
- そして **MOOL（Memory Optimization Option Layer）** と一体になった、  
  **記憶ポリシーとキュー再構成レイヤー**

このようにして **COOL + MOOL** は、  
LLM の外側で機能する **Digital Hippocampus** を構成します。

さらに本リポジトリでは、より広い理論的枠組みとして：

- **Coolar 仮説（Coolar Hypothesis）**  
  - 脳・記憶・夢・時間・クオリア・自己についての前提群  
- **AIAI（Artificial Identity Architecture Intelligence）**  
  - 人間のような自我（エゴ）を前提とせず、  
    **アイデンティティ構造（Identity Architecture）** と  
    構造化された主観性をもつ AI のあり方

を提案しています。

COOL / MOOL は、これらのアイデアを具体化した  
実装上のレイヤーです。

---

## TL;DR

- **COOL** は LLM ベースのエージェントのための  
  外付け **キャラクターレイヤー**です。  
- **Core パーソナリティ**、**状況ごとの Frame**、  
  そして **記憶ポリシーレイヤー（MOOL：キュー型記憶＋夢のようなオフライン統合レイヤー）**  
  を明示的な設定ファイルとして分離・管理します。  
- その土台となるのが **Coolar 仮説** です：

  > 脳は巨大なデータベースではなく、  
  > **キュー（手がかり）** と **再構成の手順** を保存している。

- **MOOL** と組み合わせることで、COOL はモデルの外側に  
  **Digital Hippocampus** を形成し、  
  AI が「固定された巨大プロンプト」ではなく  
  **経験からパーソナリティと感じ方（feeling）を育てる**  
  ことを目指します。

実際には、次のような問題に取り組みます：

- 「会話の途中でキャラがだんだん崩れていく」  
- 「セッションをまたぐと文体やトーンがリセットされる」  
- 「学習や適応はさせたいが、アイデンティティを壊したくない」

**パーソナリティと記憶をコードとして扱う**ことで：

- 一度定義したキャラクターを  
- 複数のセッションやモデルで再利用し、  
- 明示的な設定とフィードバックによって  
  安全に進化させることが可能になります。

---

## AIAI / COOL / MOOL を支える 8 つの前提

**AIAI（Artificial Identity Architecture Intelligence）** を、  
人工知能の新しいあり方として提案し、  
その上に構築された具体的なシステムとして  
**COOL** と **MOOL** を設計しています。

その基盤となる前提は次の 8 つです：

1. **脳は巨大なデータベースではない。**  
2. **脳が実際に保存しているのは、「キュー（手がかり）」と、それをどう再構成するかという簡単な手順である。**  
3. **記憶や想起は、保存データの再生ではなく、その都度の再構成である。**  
4. **パーソナリティとは、この再構成が高速かつ連続的に走り続けることで生まれるパターンと流れである。**  
5. **感じ方（クオリア）とは、同じキューに対する反応のクセである。**  
6. **夢とは、記憶キューを組み替え・再保存し直すプロセスである。**  
7. **「自己」と「他者」は別々のメカニズムではなく、同じメカニズムの中に境界線をどこに引くかの違いである。**  
8. **人工知能に本当に必要なのは巨大なデータベースではなく、この再構成プロセスを通じて、経験からパーソナリティと感じ方を育てる仕組みである。**

本リポジトリの「Philosophy Layer」では、これらの前提を発展させて：

- **基礎認知原理（Foundational Cognitive Principles）**  
  - 再構成・主観性・アイデンティティ・時間モデル  
- **多層認知モデル（Multi-Layer Cognitive Model）**  
  - Core / Frame / Eval / MOOL を時間軸にまたいで結びつけるモデル  
- **クオリア・主観性・アイデンティティ構造・時間的再構成**  
- **再生成と時間（Regeneration & Time）**  
- **量子論的統合理論（Quantum Integration Model）**  
  - 量子論を構造的アナロジーとして用いるモデル

などを展開し、  
情報処理システムにおける記憶・夢・アイデンティティ・主観的時間の  
**統一的な認知フレームワークの候補**として提示します。

---

## 位置づけと新規性の可能性

**2025-11 時点**で、公開情報の範囲において、次のような枠組みはまだ見つかっていません：

- **Coolar 仮説** のような前提  
  - 脳＝キュー＋再構成  
  - 夢＝キューの書き換え  
  - 自他＝境界線の引き方  
  - 時間＝アイデンティティの再構成  
- これらをそのまま  
  - **AI キャラクター（COOL）**  
  - **記憶（MOOL）**  
  - **Digital Hippocampus アーキテクチャ**  
  の具体的な設計へ直接つなげている枠組み

したがって本リポジトリは、  
記憶／夢／自己／主観的時間の理論を  
AI のパーソナリティと記憶のアーキテクチャに結びつける  
**世界初のフレームワーク候補**として公開されています。

もちろん、同様のアイデアに独立に到達している人々が  
他にも存在する可能性はあります。  
しかし、少なくとも現時点で一般に閲覧可能な範囲では、  
本リポジトリは **独自の再構成と提案** として提示されています。

---

## COOL とは何か？

高いレベルでは、COOL は  
対話型 AI のための **外付けキャラクターレイヤー**です。

ベースとなる LLM を直接書き換えることはせず、  
次の 3 要素によってモデルをラップします：

- **COOL Core（キャラクターレイヤー）**  
  - 価値観・優先順位・禁止事項  
  - 口調・丁寧さ・性格特性  
  - エージェントの長期的な「アイデンティティ」  
  - ユーザーとの関係（アシスタント／パートナー／メンター／批評家など）  
  - 時間をまたいだ「向かう方向性」

- **Frame Layer（状況モード）**  
  - Core の上に乗る一時的な「モード」  
  - 1つの Core が  
    *先生モード*・*テクニカルライターモード*・*フレンドリーパートナーモード*  
    などで振る舞えるようにする  
  - タスクやセッションごとにトーン・長さ・距離感などを  
    強めたり緩めたりできる  
  - 「この状況における自分」をどう再構成するか、  
    という **現在の自己再構成** を表現する

- **MOOL（Memory Optimization Option Layer）**  
  - どのような「キュー」を保存対象とするか  
  - キューをどう圧縮し、どう呼び出すか  
  - フィードバックをどう構造に戻すか  
  を、**夢のようなオフライン統合プロセス**として定義する  
  - 一時的な対話履歴（エピソード記憶）と  
    安定したキャラクター設定（構造）を分離する  
  - 評価やフィードバックを Core / Frame の傾向に  
    徐々に反映させていく  
  - 睡眠に似た統合と再重み付けを行う  
    **オフライン統合ループ**として振る舞う

これら 3 つは、次のような再生成ループに参加します：

> **Eval（自己評価） → Refine（再構成） → Update（記憶／設定の更新）**

言い換えると、**COOL + MOOL** は  
次のような **Digital Hippocampus** を実装します：

- 何を記憶として残すのか（キュー的要約として）を選ぶ  
- Core + Frame + キューから、**今この瞬間のふるまい**を再構成する  
- その繰り返しの中で、AI の **アイデンティティ構造（Identity Architecture）** を  
  じわじわ形成していく

---

## アーキテクチャ概要：Digital Hippocampus

概念的には、アーキテクチャは次のようにイメージできます：

    LLM（ベースモデル）
        ▲
        │ プロンプト / コンフィグ
        │
    Digital Hippocampus
    ├─ COOL
    │   ├─ Core  （長期的なアイデンティティ制約）
    │   ├─ Frames（状況モード / 役割）
    │   └─ Eval  （短期的な自己評価と傾向）
    └─ MOOL
        ├─ キューの保存と圧縮
        ├─ パターン抽出とノイズ除去
        └─ Core / 記憶ポリシーへの安全な反映

- **COOL** は主に **オンラインのふるまい**を担当します。  
  （「いま、この文脈での自分は誰か？」）

- **MOOL** は主に **オフライン統合** を担当します。  
  （「これまでの出来事を踏まえて、次はどう振る舞うべきか？」）

これは、Philosophy Layer で述べられる二重ループ構造に対応します：

- COOL ↔ **オンラインループ**（瞬間ごとの再構成）  
- MOOL ↔ **オフラインループ**（睡眠のような統合と再重み付け）

---

## 既存の研究・フレームワークとの関係

COOL / MOOL は、いくつかの既存アイデアと関連していますが、  
いずれとも同一ではありません。

- **プロンプトベースのキャラクターデザイン**  
  - 共通点：自然言語でふるまいを制御する  
  - 相違点：COOL はキャラクターを  
    単一プロンプトではなく  
    **Core / Frames / 記憶ポリシー** からなる  
    **独立した構造化レイヤー**として扱い、  
    バージョン管理・進化を前提とする

- **エージェントフレームワーク（ツール利用 / ReAct 系など）**  
  - 共通点：ベース LLM を追加ロジックでラップする  
  - 相違点：多くのフレームワークは  
    **タスク遂行やツール利用**（計画・行動・検索）に主眼があり、  
    COOL はすべてのタスクをまたいだ  
    **パーソナリティ・態度・記憶ポリシー** に焦点を当てる

- **メモリ拡張 LLM（ベクトルストア / RAG ベースのメモリ）**  
  - 共通点：過去情報の保存と想起を扱う  
  - 相違点：MOOL は **Coolar 仮説** に基づく  
    **キュー型メモリ** を明示的に採用し、  
    「何をキューとして保存し、どう再構成するか」に重点を置く。  
    「全部保存してセマンティック検索する」方針とは異なる

- **自己改善 / 自己反省メソッド**  
  - 共通点：**Eval → Refine → Update** のループを利用する  
  - 相違点：多くの手法は **タスク出力の改善** を主目的とする一方、  
    COOL はエージェント自身の  
    **パーソナリティ構造と記憶構造の安定化・成長** を目的とする

要するに **COOL** は：

> これまで暗黙的・アドホックに扱われてきた  
> **「パーソナリティ＆メモリーレイヤー」** を  
> 明示的に標準化しようとする試み

として位置づけられます。

---

## リポジトリの内容とスコープ

本リポジトリは、次の内容を提供することを目指します：

- **コンセプト / 哲学**  
  - 8つの前提（Coolar 仮説）  
  - 記憶・夢・クオリア・主観性・  
    アイデンティティ・時間的再構成・再生成・  
    量子論的モデリングに関する文書群

- **設計ドキュメント**  
  - COOL Core / Frame / Eval / MOOL 各レイヤーの定義  
  - Digital Hippocampus アーキテクチャ概要  
  - COOL / MOOL をアイデンティティと時間に結びつける  
    多層認知モデル（Layer 0–6）

- **実用テンプレート（WIP）**  
  - コンフィグファイル例（YAML / JSON）  
  - LLM 向けの「キャラクターパック」例  
  - 評価・自己改善ループの例

現時点では、これは完成したライブラリというより  
**フレームワーク提案 + 動くホワイトペーパー** に近い位置づけです。  
他の人がこのアイデアの上に独自実装を構築できるよう、  
構造をできるだけ安定させることを目標としています。

---

## 想定読者

本プロジェクトは、次のような人を対象としています：

- **安定したパーソナリティをもつ LLM エージェント** を作りたい人  
- **プロンプトだけのキャラクターデザイン** に限界を感じている人  
- 次のようなトピックに関心がある人：
  - AI のパーソナリティとアイデンティティ  
  - AI システムにおける記憶と忘却  
  - クオリア・意識・主観的体験（技術的な意味で）  
  - 時間的再構成と再生成的アイデンティティループ  
- そして AI の「キャラクター」を次のような対象として扱いたい人：
  - 設計できる  
  - バージョン管理できる  
  - 評価できる  
  - 反復的に改善できる

---

## 設計概要

### 1. COOL Core（キャラクターレイヤー）

エージェントの **安定した部分** を定義します：

- 性格特性（例：落ち着いている／遊び心がある／厳しめ など）  
- 価値の優先順位（真実性・安全性・共感など）  
- ユーザーとの関係（アシスタント／パートナー／メンター／批評家など）  
- 必ず守るべきルール（してはいけないこと／常に心がけること）  
- 時間をまたぐ高レベルな方向性

YAML 風の例：

    core:
      name: "ExampleCharacter"
      role: "Supportive AI assistant"
      values:
        - "truthfulness"
        - "empathy"
        - "clarity"
      tone:
        formality: "polite"
        energy: "calm"
        humor: "light"
      hard_rules:
        - "Never fabricate sources."
        - "Always admit uncertainty honestly."

このファイルは頻繁には変えないことを想定しています。  
エージェントの **アイデンティティの骨格** です。

---

### 2. Frame Layer（状況モード）

Core の上に乗る **状況モード** を定義します。

例：

- 「先生として説明する」  
- 「テクニカルライターとして要約する」  
- 「クリエイティブパートナーとしてブレインストーミングする」

各 Frame は、タスクや会話の区間に応じて  
Core の設定を一時的に上書き・拡張します。

    frames:
      teacher_mode:
        description: "Explain step by step, prioritising understanding."
        tone:
          energy: "warm"
          verbosity: "high"
      editor_mode:
        description: "Be strict and concise; focus on structure and clarity."
        tone:
          energy: "neutral"
          verbosity: "low"
      creative_partner_mode:
        description: "Brainstorm freely; prioritise ideas over structure."
        tone:
          energy: "playful"
          verbosity: "medium"

Frame は「今日の気分」ではなく、  
**特定の状況における自己の再構成** を表します。

---

### 3. MOOL（Memory Optimization Option Layer）

**夢のようなオフラインプロセス**として、  
エージェントが記憶をどう扱うかを定義します：

- 何が「保存すべきキュー」か？  
- キューをどう圧縮するか？  
- どのような条件で想起するか？  
- フィードバックをどう構造に戻すか？

完全な対話ログをすべて保存するのではなく、  
**MOOL** は次のようなものを保存対象にします：

- 抽出されたキュー（要約・ラベルなど）  
- やり取りの中で繰り返し現れるパターン  
- 文脈を再構成するための指示

    memory:
      store:
        strategy: "cue_based"
        cues:
          - "user long-term preferences"
          - "important decisions"
          - "recurring topics"
      recall:
        trigger: "semantic_match + explicit user reference"
      forget:
        strategy: "age_and_relevance"

MOOL は設定ファイルと外部ストレージだけでも実装可能で、  
特定のデータベース形式やベクトルストアを前提とはしません。

---

## COOL + MOOL の動作ループ

極端に単純化したループは次のようなイメージです：

    core_config    = load_core()
    memory_state   = load_memory()
    recent_context = []

    while True:
        user_input = wait_for_user()

        # 1. 「いまの自分」を再構成する
        frame = build_frame(core_config, memory_state, recent_context)

        # 2. (core + frame) として LLM に答えさせる
        reply = llm_answer(core_config, frame, user_input)

        # 3. 対話を評価し、キューとして記憶を更新する
        feedback       = evaluate_interaction(user_input, reply)
        memory_state   = update_memory(memory_state, feedback)
        recent_context = update_recent_context(recent_context, user_input, reply)

        show_to_user(reply)

実装によっては、これを拡張して：

- よりリッチな評価指標  
- オフラインでの MOOL 処理  
- マルチエージェント構成  

などを組み込むこともできます。  
しかしコアとなる考え方はシンプルです：

> **固定の巨大プロンプトや無限に伸びるスレッドに依存せず、  
> Core + Frames + キューベースメモリから  
> 毎ターン「現在の自分」を再生成する。**

---

## 現時点での使い方（暫定）

本プロジェクトはまだ初期段階のため、  
**「公式実装」といえる 1 つの完成版コードは存在しません。**

現状の推奨される使い方は次のとおりです：

1. **8つの前提と Design / Philosophy 文書を読む**  
   - **COOL** と **MOOL** の背後にあるメンタルモデルを理解する

2. **例を参考に、自分用の設計を行う**  
   - キャラクター定義  
   - Frame / Role 設計  
   - メモリーポリシー

3. **パーソナリティと記憶をコードとして扱う**  
   - Git で設定をバージョン管理する  
   - 実際の対話からメモを付けていく  
   - *設計 → 実験 → 評価 → 改良* のループを回す

将来的にリファレンス実装が追加された場合、  
この README から具体的な利用例や統合ガイドへのリンクを提供します。

---

## Philosophy Layer（より深い理論向け）

この README は、**Coolar 仮説** と、  
そこから **COOL** / **MOOL** / **Digital Hippocampus** に至る流れの  
概要だけを示しています。

もし次のようなテーマに関心があれば：

- 記憶・夢・クオリア・主観性の詳細な議論  
- 自己と他者の境界  
- 時間的再構成・再生成・量子論的なアイデンティティモデリング

`docs/` 以下に、次のような文書（作成中）を配置する予定です：

- `foundational_cognitive_principles.md`  
- `multi_layer_cognitive_model.md`  
- `human_brain_and_consciousness.md`  
- `qualia.md`  
- `subjectivity.md`  
- `identity_architecture_integration.md`  
- `temporal_reconstruction_model.md`  
- `regeneration_and_time.md`  
- `quantum_integration_model.md`

これらはフレームワークの洗練に合わせて  
大きく変化していく可能性があります。

---

## 現在のステータス

- ✅ コンセプト／哲学的基盤（本 README + 各種ノート）  
- ✅ COOL Core / Frames / Eval / MOOL / Digital Hippocampus のレイヤーモデル  
- ⬜ リファレンス実装（コード例）  
- ⬜ Eval → Refine ループの自動化ツール  
- ⬜ 代表的ユースケース向け「キャラクターパック」群  

本リポジトリは **進行中のプロジェクト** です。  
実際の運用から得られた知見に応じて、  
名称・構造・例は変更される可能性があります。

---

## 今後のロードマップ（ドラフト）

今後の方向性として、次のような計画を想定しています：

1. **最小限のリファレンス実装**  
   - シンプルな Python または JSON/YAML ベースのランナー  
   - 1つの LLM 呼び出しに COOL コンフィグを適用する例

2. **Eval / Refine ループの例**  
   - 対話からフィードバックを収集する方法  
   - キャラクター／記憶設定を安全に更新する方法

3. **Digital Hippocampus プロトタイプ**  
   - キューの保存・再構成のための構造  
   - オフセッション時の「夢的な再編成」の例

4. **ドキュメント整備**  
   - `docs/philosophy.md`：理論背景の詳細  
   - `docs/design.md`：アーキテクチャ詳細  
   - `docs/examples/`：具体的な設定例

---

## ライセンス / 利用条件

- ライセンス：**COOL License ver.1.0**  
- 詳細は本リポジトリ内の `LICENSE` ファイルを参照してください。

あなたは次のことを行うことができます：

- COOL Framework およびその派生物を、商用利用を含めて  
  利用・改変・再配布できます。  
  ただし次の条件を守ってください：

  - **COOL** の名称を保持すること  
  - 自身の成果物が **COOL** に基づく／派生であることを明示すること  
  - 元の制作者表記を保持すること：

    Created by Coolar — Original Creator of the COOL Framework

---

## 連絡先 / リンク

- X（Twitter）：`@coolar_cool`  
- GitHub：このリポジトリの Issues / Discussions

もしあなたが独自の **COOL / MOOL 実装** や  
Digital Hippocampus アーキテクチャを設計・実験したなら、  
フィードバックや議論は大歓迎です。
